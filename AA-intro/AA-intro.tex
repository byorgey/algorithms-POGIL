% -*- compile-command: "rubber -d --unsafe AA-intro.tex" -*-
\documentclass{tufte-handout}

\usepackage{../algo-activity}

\usepackage{pgfplots}
\pgfplotsset{width=10cm,compat=1.9}
\usepgfplotslibrary{external}
\tikzexternalize

\title{\thecourse: Introduction to Asymptotic Analysis}
\date{}

\begin{document}

\maketitle

\definecolor{cb_orange}{RGB}{230,159,0}
\definecolor{cb_skyblue}{RGB}{86,180,233}
\definecolor{cb_bluegreen}{RGB}{0,158,115}
\definecolor{cb_yellow}{RGB}{240,228,66}
\definecolor{cb_blue}{RGB}{0,114,178}
\definecolor{cb_vermillion}{RGB}{213,94,0}
\definecolor{cb_redpurple}{RGB}{204,121,167}

\begin{model}{Big-O and Big-$\Omega$}{bigO}
  \begin{center}
    \input{diagrams/VennModel.pgf}

    \vspace{0.5in}

\begin{minipage}{\textwidth}
\begin{tikzpicture}
\begin{axis}[
    axis lines = left,
    xlabel = $n$,
%    ylabel = {$f(n)$},
    width = 5.5cm, height = 5.5cm,
    every axis plot/.append style={thick},
    legend style={at={(0.5, -0.7)},anchor=south},
]
\addplot [
    domain=1:5,
    samples=100,
    color=cb_blue,
    ]
    {(x^2+2)/x};
\addlegendentry{$f(n) = (n^2+2)/n$}
\addplot [
    domain=1:5,
    samples=100,
    color=cb_redpurple,
    style=densely dotted,
]
{(x^2)/2 - x};
\addlegendentry{$g(n) = n^2/2 - n$}
\addplot [
    domain=1:5,
    samples=100,
    color=cb_orange,
    style=densely dashed,
]
{x^3 / 1000};
\addlegendentry{$h(n) = n^3/1000$}
\end{axis}
\end{tikzpicture}
\hfill
\begin{tikzpicture}
\begin{axis}[
    axis lines = left,
    xlabel = $n$,
%    ylabel = {$f(n)$},
    width = 5.5cm, height = 5.5cm,
    every axis plot/.append style={thick},
    legend style={at={(0.5, -0.7)},anchor=south},
]
\addplot [
    domain=1:40,
    samples=100,
    color=cb_blue,
    ]
    {(x^2+2)/x};
\addlegendentry{$f$}
\addplot [
    domain=1:20,
    samples=100,
    color=cb_redpurple,
    style=densely dotted,
]
{(x^2)/2 - x};
\addlegendentry{$g$}
\addplot [
    domain=1:40,
    samples=100,
    color=cb_orange,
    style=densely dashed,
]
{x^3 / 1000};
\addlegendentry{$h$}
\end{axis}
\end{tikzpicture}
\hfill
\begin{tikzpicture}
\begin{axis}[
    axis lines = left,
    xlabel = $n$,
%    ylabel = {$f(n)$},
    width = 5.5cm, height = 5.5cm,
    every axis plot/.append style={thick},
    legend style={at={(0.5, -0.7)},anchor=south},
]
\addplot [
    domain=1:550,
    samples=100,
    color=cb_blue,
    ]
    {(x^2+2)/x};
\addlegendentry{$f$}
\addplot [
    domain=1:550,
    samples=100,
    color=cb_redpurple,
    style=densely dotted,
]
{(x^2)/2 - x};
\addlegendentry{$g$}
\addplot [
    domain=1:550,
    samples=100,
    color=cb_orange,
    style=densely dashed,
]
{x^3 / 1000};
\addlegendentry{$h$}
\end{axis}
\end{tikzpicture}
\end{minipage}

\end{center}
\end{model}

\newpage
\section{Critical Thinking Questions I (20 minutes)}

\begin{objective}
  Extrapolating from examples, students will develop an intuitive mental
  model to classify functions as $O(n^2)$, $\Omega(n^2)$, or
  $\Theta(n^2)$.
\end{objective}

\begin{pobjective}
  Students will process information from a model to explore the
  meaning of big-O and big-Omega notation.
\end{pobjective}

\begin{pobjective}
  Students will think critically to discover counterexamples
  and assemble evidence.
\end{pobjective}

\textbf{Important note}: although any previous experience you have
with big-$O$ notation may be helpful, it is \textbf{not} assumed that
you remember anything in particular!  When answering the following
questions, as much as possible, try to rely on the information
provided in Model 1 rather than on your memory.

\begin{questions}
\item \textbf{Working together}, based on the \textbf{Venn diagram} in
  the model, say whether each function is $O(n^2)$, $\Omega(n^2)$, or
  both. \marginnote{$\Omega$ is pronounced ``big omega'' (amusingly,
    ``o-mega'' is itself Greek for ``big O'', although they meant
    ``big'' in the sense of a long vowel, not uppercase).}
  \begin{subquestions}
  \item $2\sqrt n$
    \begin{answer}According to the Venn diagram, $2\sqrt n$ is $O(n^2)$.\end{answer}
  \item $n^3$
    \begin{answer}$\Omega(n^2)$\end{answer}
  \item $2n^2 + n + 1$
    \begin{answer}Both $O(n^2)$ and $\Omega(n^2)$.\end{answer}
  \item $2^n$
    \begin{answer}$\Omega(n^2)$.\end{answer}
  \end{subquestions}
\end{questions}

\hline \bigskip

For Questions \ref{q:biggest}--\ref{q:synthesize}, consider the functions
\begin{align*}
  f(n) &= (n^2 + 2)/n, \\ g(n) &= n^2/2 - n, \text{and} \\ h(n) &= n^3/1000.
\end{align*}
Graphs of these functions are shown in the model (or rather,
\emph{one} graph is shown three times at different zoom levels).
\begin{questions}
\item \label{q:biggest} Look at the graphs to determine which function is
  biggest when $2 \leq n \leq 4$.
  \begin{answer}
    The left-hand graph shows that $f(n)$ (the blue line) is biggest
    on this interval.
  \end{answer}
\item \label{q:table} The following table has four columns
  representing different intervals for $n$.  For each interval, the
  table is supposed to show which function is smallest, which is
  biggest, and which is in between. A couple entries have already been
  filled in for you.  Using the graphs in the model, fill in the rest
  of the table. Note that the graphs do not quite show what happens at
  $n = 600$; when filling in the last column of the table, simply use
  your best judgment to predict what will happen.

  \textbf{Make sure your group agrees} on the best way to fill in the table.

  \setlength{\tabcolsep}{20pt}
  \renewcommand{\arraystretch}{2}
  \begin{fullwidth}
  \begin{tabular}{c|cccc}
    biggest & $f$ & & & \\
    middle & & $f$ & & \\
    smallest & & & & \\
    \hline
        & $2 \leq n \leq 4$ & $5 \leq n \leq 30$ & $35 \leq n \leq 450$ & $n = 600$
  \end{tabular}
  \end{fullwidth}

  \begin{answer}
    \setlength{\tabcolsep}{20pt}
    \renewcommand{\arraystretch}{1}
    \begin{tabular}{cccc}
    $f$ & $g$ & $g$ & $h$ \\
    $g$ & $f$ & $h$ & $g$ \\
    $h$ & $h$ & $f$ & $f$
    \end{tabular}
  \end{answer}

\item Does the same relative order continue for all $n \geq 600$, or do
  the functions ever change places again?  Justify your answer.
  \begin{answer}The functions never change places again.  Since $h$
    is proportional to $n^3$ it will continue to grow faster than
    $g$, which will in turn continue to grow faster than
    $f$.\end{answer}
\item \label{q:fgh} Again using the Venn diagram, for each function, say whether it is
  $O(n^2)$, $\Omega(n^2)$, or both.
  \begin{subquestions}
  \item $f(n) = (n^2 + 2)/n$
    \begin{answer}
      $f(n)$ is $O(n^2)$.
    \end{answer}
  \item $g(n) = n^2/2 - n$
    \begin{answer}
      $g(n)$ is both $O(n^2)$ and $\Omega(n^2)$.
    \end{answer}
  \item $h(n) = n^3/1000$
    \begin{answer}
      $h$ is $\Omega(n^2)$.
    \end{answer}
  \end{subquestions}
\item \label{q:synthesize} Based on your answers to the previous three
  questions, which grow more quickly in general, functions which are
  $O(n^2)$, or functions which are $\Omega(n^2)$? Write one or two
  sentences explaining your reasoning.  Be sure to mention evidence
  from your answers to each of the previous three questions.

  \begin{answer}
    $f$, which we know is $O(n^2)$ from question 5, is the smallest
    function for $n \geq 600$ (based on the table in question 3 and
    the answer to question 4); $h$, which is $\Omega(n^2)$, is the
    biggest.  Eventually, $\Omega(n^2)$ functions grow more quickly
    than $O(n^2)$ functions.
  \end{answer}
\end{questions}

\newpage
\noindent \textbf{Using evidence from the model}, come to a consensus
within your group as to whether each of the following statements is
true or false.  Write a short justification for each answer.

\begin{questions}
\item If $f(n)$ is $O(n^2)$, then it has $n^2$ in its definition.
  \begin{answer} False; \eg $6$ is $O(n^2)$ but does not have $n^2$
    in its definition.\end{answer}
\item If $f(n)$ has $n^2$ in its definition, then $f(n)$ is $O(n^2)$.
  \begin{answer} False; \eg $n^4 - 3n^2$ has $n^2$ in its definition
    but it is not $O(n^2)$.\end{answer}
\item If $f(n)$ is both $O(n^2)$ and $\Omega(n^2)$, then it has $n^2$
  in its definition.
  \begin{answer} False; \eg $\frac{n^3 + 3}{n}$. \end{answer}
\item If $f(n) \leq n^2$ for all $n \geq 0$, then $f(n)$ is $O(n^2)$.
  \begin{answer} This is true; although we can't know for sure without
    knowing the definition of $O(n^2)$, all the functions in the model
    with this property are in fact $O(n^2)$. \end{answer}
\item If $f(n)$ is $O(n^2)$, then $f(n) \leq n^2$ for all $n \geq 0$.
  \begin{answer}
    False.  For example, $2n^2 + n + 1$ is $O(n^2)$ but it is never
    $\leq n^2$.
  \end{answer}
\item If $f(n) \leq n^2$ for all $n$ that are sufficiently large, then
  $f(n)$ is $O(n^2)$.
  \begin{answer}
    True.  For example, $\frac{n^2 + 2}{n}$ is only $\leq n^2$ for $n
    > 1$.
  \end{answer}
\item If $f(n)$ is $O(n^2)$ and $g(n)$ is $\Omega(n^2)$, then $f(n)
  \leq g(n)$ for all $n$.
  \begin{answer}
    False.  For example, consider $(n^2 + 2)/n$ (which is $O(n^2)$)
    and $n^3/1000$ (which is $\Omega(n^2)$).  From the graphs we know
    that the first function is actually greater than the second until
    around $n = 30$.
  \end{answer}
\item Using one or more complete English sentences, propose a
  definition of $O(n^2)$ by completing the following statement.

  \emph{A function $f(n)$ is $O(n^2)$ if and only if\dots}

  \begin{answer}
    Answers may vary.  Students may talk about how it only matters
    what happens to $f(n)$ when $n$ is big enough; how $f(n)$ should
    ``grow at a similar rate'' to $n^2$, or always be $\leq kn^2$ for
    some constant $k$; they may note that only the ``biggest term'' of
    $f(n)$ matters.
  \end{answer}
\end{questions}

\pause

\section{Critical Thinking Questions II (10 minutes)}

\begin{questions}
\item In what way(s) do you think the definition of $\Omega(n^2)$ is similar to
  and different from that of $O(n^2)$?
  \begin{answer}
    Answers may vary.  For example, the definitions both have
    something to do with $n$ being ``sufficiently large'', and they
    both involve comparing something to $n^2$; one involves something
    being $\leq$ something else, and the other involves $\geq$.
  \end{answer}
\item \label{q:classify} If a function is both $O(n^2)$ and $\Omega(n^2)$, we say it is
  $\Theta(n^2)$.
  \marginnote{$\Theta$ is pronounced ``big theta''.}
  For each of the below functions, say whether you
  think it is $\Theta(n^2)$, $O(n^2)$, or $\Omega(n^2)$.  Justify your answers.
  \begin{subquestions}
  \item $3n^2 + 2n - 10$
    \begin{answer}
      This is $\Theta(n)$.  It is very similar to $2n^2 + n + 1$ which
      we know is $\Theta(n)$.
    \end{answer}
  \item $\displaystyle \frac{n^3 - 5}{n}$
    \begin{answer}
      This is also $\Theta(n)$.  It is similar to $(n^3 + 3)/n$.
    \end{answer}
  \item $\displaystyle \frac{n^3 - 5}{\sqrt n}$
    \begin{answer}
      This is $\Omega(n^2)$ but not $O(n^2)$.  Divding $n^3$ by $\sqrt
      n$ produces something that still grows faster than $n^2$.
    \end{answer}
  \item $(n+1)(n-2)$
    \begin{answer}
      This is $\Theta(n^2)$. It is equal to $n^2 - n - 2$.
    \end{answer}
  \item $n + n \sqrt n$
    \begin{answer}
      This is $O(n^2)$ but not $\Omega(n^2)$.  $n \sqrt n = n \cdot
      n^{1/2} = n^{1.5}$ which grows more slowly than $n^2$.
    \end{answer}
  \end{subquestions}
\item In your answers to \pref{q:classify}, in which cases did you
  make use of evidence from the model (the Venn diagram or graphs) to
  justify your answers?  In which cases did you make use of team
  members' previous knowledge?
\end{questions}

\newpage

\section{Facilitation plan}
\label{sec:facilitation}

\section{Learning Objectives}

\subsection{Content objectives}

\begin{itemize}
\item Students will develop intuitive mental models to classify
  functions as $O(n^2)$, $\Omega(n^2)$, and/or $\Theta(n^2)$.
\end{itemize}

\subsection{Process objectives}

\begin{itemize}
\item Information processing (interpreting Venn diagram and graph
  models)
\item Critical thinking (finding counterexamples; synthesizing
  examples to come up with intuitive models for $O(n^2)$ and $\Omega(n^2)$)
\end{itemize}

\section{Announcements (2 minutes)}

\begin{itemize}
\item Remember HW 1 due Friday.  Start early, come ask for help if you
  need it.
\item Today, take a role you haven't had.  Review duties.
\item Remind managers to look at the time limits on the activities,
  make sure you stay on track!
\end{itemize}

\section{CTQs I (Big-O) (30 mins: 20 activity + 10 discussion)}

(Up to 3 minutes to get started, look at role cards, etc.)

\begin{itemize}
\item Make grid, go around and tell them put up answers to T/F
  questions once they get there.  Discuss as necessary.
\item Share and discuss proposed definitions of $O(n^2)$.  Note that
  the next activity will present the real definition, so it is not
  critical that students converge on an exactly correct definition;
  the goal is to get them to think about the important issues.
\end{itemize}

\section{CTQs II (Big-Theta, classification) (15 mins: 10 activity + wrap-up)}

\begin{itemize}
\item Discuss answers as necessary.
\item Wrap-up: today was about building intuition and
  examples. Promise we will see the real definition next time!
\end{itemize}

\newpage

\section{Author notes}
\label{sec:author}

In the past when I have used a previous version of the activity in a
50-minute class, I only made it through CTQ I and never made it to CTQ
II.  I hope that
\begin{itemize}
\item This version is more streamlined
\item Encouraging managers to keep track of time will help
\end{itemize}
so that we can get to the application questions.

Some unused questions:

\begin{itemize}
\item $f(n)$ being $O(n^2)$ and/or $\Omega(n^2)$ has nothing to do
  with whether it literally has $n^2$ in its definition.
  \begin{answer} True. \end{answer}

\item Every function $f(n)$ is either $O(n^2)$ or $\Omega(n^2)$ (or
  both).
  \begin{answer}
    This is true, though there is no particular way to answer this
    from the model alone; student answers may vary.
  \end{answer}
\item Do you think $n^2 \cdot \log_2 n$ is $O(n^2)$, $\Omega(n^2)$, or
  $\Theta(n^2)$?  Why?
  \begin{answer}
    Answers may vary.  In fact, it is $\Omega(n^2)$ but not $O(n^2)$;
    multiplying by $\log_2 n$ means it grows strictly faster than
    $n^2$.
  \end{answer}
\end{itemize}


\end{document}
